<!DOCTYPE html>
<html>
    <head>
     <title>
            IoT-Creator
        </title>
            <script src="https://code.jquery.com/jquery-1.12.4.min.js">
    </script>

        <!-- add icon link -->
        <link rel = "icon" href="https://iot-creator.org:1880/IoTCreatorSquare.png" style="display: none;"></link>

    </head>
<body align="left" style="background-color:#D3D3D3;margin-left:10%">



<div class="container">
    <h1 align="left" style='color:white;background-color:#990000;width:90%;'>IoT Creator Datathon</h1>


        <div class="main">
            <form method="post" enctype="multipart/form-data" onsubmit="return check();" action="/datathon">

              <label for="Category">Category</label>
                <select id="Category" name="Category">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                </select>

                <label for="User_Level">User Level</label>
                <select id="User_Level" name="User_Level">
                  <option value="Beginner">Beginner</option>
                  <option value="Advanced">Advanced</option>
                  <option value="Expert">Expert</option>
                </select>
                <br>

              <label  for="Code">Code in JSON Format</label><br>
              <textarea class="form-control" name="Code" rows="15" cols="100" placeholder="Paste exported flow" required></textarea><br>

              <label width="68" for="Descriptive_Title"> Descriptive Title</label><br>
              <input class="form-control" size="48" title="At least 3 characters required." pattern="\s*(\S\s*){3,}" id="Descriptive_Title" name="Descriptive_Title" required><br>
              <br>


              <label width="68" for="Description">Description</label><br>
              <textarea class="form-control" name="Description" rows="10" cols="50" id="Description" name="Description" placeholder="Enter Description" required></textarea><br>
              <br>

             <label for="image_file">Select an image  file which is less than 5 MB</label><br>
             <input class="form-control" type="file" value="Click"  accept=".png,.jpg,.jpeg,.gif,.tiff" id="image_file"  name="image_file">
                 <script>
                 $(document).ready(function() {
                 $('input[type="file"]').change(function() {
                        var imgpath=document.getElementById('image_file');
                          if (!imgpath.value==""){
                            var file=imgpath.files[0];
                            // Allowing file type
                 var allowedExtensions =  /(\.jpg|\.jpeg|\.png|\.gif)$/i;

                if (!allowedExtensions.exec(imgpath.value)) {
                alert('Invalid file type');
                imgpath.value="";
                return false;
                 }


                            var img=imgpath.files[0].size;

                            var imgsize=img/(1024*1024);
                            if(file && file['type'].split('/')[0] === 'image'){
                                if(imgsize>5){
                                alert("Image size should be less than 5 MB" );
                                imgpath.value="";
                                }
                            }else
                            imgpath.value="";
                          }

                     });
                });

                function getFileExtension(filename)
                {
                var ext = /^.+\.([^.]+)$/.exec(filename);
                return ext == null ? "" : ext[1];
                }
                </script>
              <br>
              <br>
              <label width="68" for="Student_Name"> Student Name</label><br>
              <input class="form-control" title="At least 3 characters required." pattern="\s*(\S\s*){3,}" id="Student_Name" name="Student_Name" required><br>
              <br>

              <label width="68" for="Email">Email Address</label><br>
              <input type="email" pattern="\s*(\S\s*){4,}" class="form-control" id="Email" name="Email" placeholder="Enter email" required><br>
              <br>


              <label width="68" for="Keyword">Keyword</label><br>
              <input  pattern="\s*(\S\s*){4,}" class="form-control" id="Keyword" name="Keyword" placeholder="Keyword" required><br>
              <br>

              <button type="submit" style="background-color:#990000;color:white" >Submit</button>
            </form>
        </div>
    </div>

    <script type="text/javascript">

    function check(){

    }
</script>
</body>
</html>
