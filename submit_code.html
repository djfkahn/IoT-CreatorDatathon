<!DOCTYPE html>
<html>

  <header>
    <title>
      Datathon Project Submit
    </title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js">
    </script>
    <link href="./datathon.css" rel="stylesheet">
  </header>


  <body>

    <head>
      <img class="head-image" src="theme/header/IoTCreator.png">
      <h1>Datathon Submit Step 2</h1>
      <hr>
    </head>

    <main>
      <h2>Project's Information</h2>
      <form method="post" enctype="multipart/form-data" onsubmit="return check();" action="./submit_complete">
        <label for="title">Title</label>
        <input size="80" pattern="\s*(\S\s*){3,}" id="title" name="title" placeholder="Project title, max 80 characters" required>
        <br>

        <label for="description">Description</label>
        <textarea rows="10" cols="78" id="description" name="description" placeholder="Describe project in detail" required></textarea>
        <br>


        <label for="category">Category</label>
        <select id="category" name="category" required>
          <option value="none" selected disabled hidden> Select a Category</option>
          <option value="Home Automation - Indoor">Home Automation - Indoor</option>
          <option value="Home Automation - Outdoor">Home Automation - Outdoor</option>
          <option value="Home Lighting">Home Lighting</option>
          <option value="Home Security">Home Security</option>
          <option value="Smart Appliances & Furniture">Smart Appliances & Furniture</option>
          <option value="Chore Management">Chore Management</option>
          <option value="Entertainment & Games">Entertainment & Games</option>
          <option value="Health, Wellness, Fitness & Nutrition">Health, Wellness, Fitness & Nutrition</option>
          <option value="School & Education">School & Education</option>
        </select>
        <br>

        <label for="keywords">Keywords</label>
        <input size="80" pattern="\s*(\S\s*){4,}" class="form-control" id="keywords" name="keywords" placeholder="Enter comma separated keywords" required>
        <br>
        <p>
          Hint: Use keywords to list IoT hardware used in the project.
        </p>
        <br>
        <hr>

        <h2>Project's Implementation</h2>
        <label for="cloud_code">Iot-Creator Code</label>
        <br>
        <textarea id="cloud_code" name="cloud_code" rows="15" cols="100" placeholder="Paste exported IoT-Creator flow in JSON format" required></textarea>
        <br>

        <label class="longlabel" for="image_file">
          Select an image file which is less than 1 MB <small>(optional, but recommended)</small>
        </label>
        <br>
        <input type="file" accept="image/*" id="image_file" name="image_file">
        <script>
          $(document).ready(function() {
            $('input[type="file"]').change(function() {
              var imgpath = document.getElementById('image_file');
              if (!imgpath.value == "") {
                var img = imgpath.files[0].size;
                var imgsize = img / (1024 * 1024);
                if (file && file['type'].split('/')[0] === 'image') {
                  if (imgsize > 5) {
                    alert("Image size should be less than 5 MB");
                    imgpath.value = "";
                  }
                } else
                  imgpath.value = "";
              }
            });
          });
        </script>
        <br><br>

        <label class="longlabel" for="video_file">
          Select a video file which is less than 4 MB <small>(optional, but recommended)</small>
        </label>
        <br>
        <input class="form-control" type="file" accept="video/*" id="video_file" name="video_file">
        <script>
          $(document).ready(function() {
            $('input[type="file"]').change(function() {
              var vidpath = document.getElementById('video_file');
              if (!vidpath.value == "") {
                var vid = vidpath.files[0].size;
                var vidsize = vid / (1024 * 1024);
                if (file && file['type'].split('/')[0] === 'video') {
                  if (vidsize > 4) {
                    alert("Video file size should be less than 4 MB");
                    vidpath.value = "";
                  }
                } else
                  vidpath.value = "";
              }
            });
          });
        </script>
        <br><br>

        <hr>

        <h2>Final Project Submission Step</h2>
        <label class="longlabel" for="submit">
          Click button below to submit project. Once submitted, the project cannot be modified.
        </label>
        <br>
        <button type="submit" id="submit" name="submit">Submit</button>
        <br><br>
      </form>

      <script type="text/javascript">
        function check() {}
      </script>

    </main>
  </body>

</html>