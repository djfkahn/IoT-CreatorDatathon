<!DOCTYPE html>
<html>

<header>
  <title>
    Datathon Project Submit
  </title>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js">
  </script>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link href="./datathon.css" rel="stylesheet">
</header>


<body>

  <head>
    <img height="36px" src="theme/header/IoTCreator.png">
    <h1>Datathon Submit Step 2</h1>
    <hr>
  </head>

  <main>
    <h2>Project's Information</h2>
    <form method="post" enctype="multipart/form-data" onsubmit="return check();" action="./submit_complete">
      <label for="title">Title</label>
      <br>
      <input size="50" pattern="\s*(\S\s*){3,}" class="form-control" id="title" name="title" placeholder="Project title, max 80 characters" required>
      <br><br>

      <label for="description">Description</label>
      <br>
      <textarea rows="10" cols="100" class="form-control" id="description" name="description" placeholder="Describe project in detail" required></textarea>
      <br><br>

      <label for="category">Category</label>
      <select id="category" name="category">
        <option value="none" selected disabled hidden> Select a Category</option>
        <option value="1">Home Automation - Indoor</option>
        <option value="2">Home Automation - Outdoor</option>
        <option value="3">Home Lighting</option>
        <option value="4">Home Security</option>
        <option value="5">Smart Appliances & Furniture</option>
        <option value="6">Chore Management</option>
        <option value="7">Entertainment & Games</option>
        <option value="8">Health, Wellness, Fitness & Nutrition</option>
        <option value="9">School & Education</option>
      </select>
      <br><br>

      <label for="keywords">What IoT hardware does your project use?</label>
      <br>
      <input size="100" pattern="\s*(\S\s*){4,}" class="form-control" id="keywords" name="keywords" placeholder="Enter comma separated keywords" required>
      <br><br>
      <hr>

      <h2>Project's Implementation</h2>
      <label for="cloud_code">Iot-Creator Code</label>
      <br>
      <textarea class="form-control" id="cloud_code" name="cloud_code" rows="15" cols="100" placeholder="Paste exported IoT-Creator flow in JSON format" required></textarea>
      <br><br>

      <label for="image_file">Select an image file which is less than 1 MB (optional, but recommended)</label>
      <br>
      <input class="form-control" type="file" accept="image/*" id="image_file" name="image_file">
      <script>
        $(document).ready(function() {
          $('input[type="file"]').change(function() {
            var imgpath = document.getElementById('image_file');
            if (!imgpath.value == "") {
              var img = imgpath.files[0].size;
              var imgsize = img / (1024 * 1024);
              if (file && file['type'].split('/')[0] === 'image') {
                if (imgsize > 5) {
                  alert("Image size should be less than 5 MB");
                  imgpath.value = "";
                }
              } else
                imgpath.value = "";
            }
          });
        });
      </script>
      <br><br>

      <label for="video_file">Select a video file which is less than 4 MB (optional, but recommended)</label>
      <br>
      <input class="form-control" type="file" accept="video/*" id="video_file" name="video_file">
      <script>
        $(document).ready(function() {
          $('input[type="file"]').change(function() {
            var vidpath = document.getElementById('video_file');
            if (!vidpath.value == "") {
              var vid = vidpath.files[0].size;
              var vidsize = vid / (1024 * 1024);
              if (file && file['type'].split('/')[0] === 'video') {
                if (vidsize > 4) {
                  alert("Video file size should be less than 4 MB");
                  vidpath.value = "";
                }
              } else
                vidpath.value = "";
            }
          });
        });
      </script>
      <br><br>

      <hr>

      <h2>Final Project Submission Step</h2>
      <label>Click button below to submit project. Once submitted, the project cannot be modified.</label>
      <br>
      <button type="submit">Submit</button>
      <br><br>
    </form>

    <script type="text/javascript">
      function check() {}
    </script>

  </main>
</body>

</html>
