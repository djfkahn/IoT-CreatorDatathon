<!DOCTYPE html>
<html>
  <head>
    <title>
        Project Submit
    </title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js">
    </script>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <style>
      body {
        font-family: Roboto;
        font-style: normal;
        font-weight: bold;
        font-size: 14px;
        color:#FFFFFF;
        background-color: #1F2642;
        margin-left: 10%;
      }
      img {
        float: left;
      }
      h1 {
        position: relative;
        left: 20px;
        width:80%;
      }
      h2 {
        font-style: italic;
      }
      button {
        color:#FFFFFF;
        background-color:#9A1D00;
        font-weight:bold;
        font-size: 22px;
      }
    </style>
  </head>
  <body align="left">
    <div class="container">
      <div class="header">
      <!--<img src="theme/header/IoTCreator.png">-->
        <img height="36px" src="./IoTCreator.png">
        <h1>Datathon Project Submission Form</h1>
        <hr>
      </div>
      <div class="main">
        <h2>Project Creator's Information</h2>
        <form method="post" enctype="multipart/form-data" onsubmit="return check();" action="/datathon-submit">
          <label width="68" for="Student_Name">Name</label>
          <br>
          <input size="50" pattern="\s*(\S\s*){3,}" class="form-control" id="Student_Name" name="Student_Name" placeholder="Enter name" required>
          <br><br>

          <label width="68" for="Email">Email Address</label>
          <br>
          <input size="50" pattern="\s*(\S\s*){4,}" class="form-control" id="Email" name="Email" placeholder="Enter email" type="email" required>
          <br><br>

          <label width="68" for="Location">Location</label>
          <select id="Location" name="Location">
            <option value="none" selected disabled hidden> Select a Location</option>
            <option value="NORAM">NORAM</option>
            <option value="SOAM" >SOAM</option>
            <option value="EMEA" >EMEA</option>
            <option value="APAC" >APAC</option>
          </select>

          <label width="68" for="Gender">Gender</label>
          <select id="Gender" name="Gender">
            <option value="none" selected disabled hidden> Select a Gender</option>
            <option value="Female">Female</option>
            <option value="Male"  >Male</option>
            <option value="Other" >Prefer not to specify</option>
          </select>
          <br><br>

          <hr>

          <h2>Project's Information</h2>
          <label width="68" for="Descriptive_Title">Title</label>
          <br>
          <input size="50" pattern="\s*(\S\s*){3,}" class="form-control" id="Descriptive_Title" name="Descriptive_Title" placeholder="Project title, max 80 characters" required>
          <br><br>

          <label width="68" for="Description">Description</label>
          <br>
          <textarea rows="10" cols="100" class="form-control" id="Description" name="Description" placeholder="Describe project, max 1024 characters" required></textarea>
          <br>

          <label for="Category">Category</label>
          <select id="Category" name="Category">
            <option value="none" selected disabled hidden> Select a Category</option>
            <option value="1">Home Automation - Indoor</option>
            <option value="2">Home Automation - Outdoor</option>
            <option value="3">Home Lighting</option>
            <option value="4">Home Security</option>
            <option value="5">Smart Appliances & Furniture</option>
            <option value="6">Chore Management</option>
            <option value="7">Entertainment & Games</option>
            <option value="8">Health, Wellness, Fitness & Nutrition</option>
            <option value="9">School & Education</option>
          </select>
          <br>

          <label width="68" for="Keywords">Keywords</label>
          <br>
          <input size="50" pattern="\s*(\S\s*){4,}" class="form-control" id="Keywords" name="Keywords" placeholder="Enter comma separated keywords" required>
          <br><br>
          <hr>

          <h2>Project's Implementation</h2>
          <label for="Code">Code</label>
          <br>
          <textarea class="form-control" name="Code" rows="15" cols="100" placeholder="Paste exported IoT-Creator flow in JSON format" required></textarea>
          <br><br>

          <label for="image_file">Select an image file which is less than 5 MB</label>
          <br>
          <input class="form-control" type="file" value="Click" accept=".png,.jpg,.jpeg,.gif,.tiff" id="image_file"  name="image_file">
            <script>
              $(document).ready(function() {
                $('input[type="file"]').change(function() {
                  var imgpath=document.getElementById('image_file');
                  if (!imgpath.value==""){
                    var file=imgpath.files[0];
                    // Allowing file type
                    var allowedExtensions =  /(\.jpg|\.jpeg|\.png|\.gif)$/i;
                    if (!allowedExtensions.exec(imgpath.value)) {
                      alert('Invalid file type');
                      imgpath.value="";
                      return false;
                    }
                    var img=imgpath.files[0].size;
                    var imgsize=img/(1024*1024);
                    if(file && file['type'].split('/')[0] === 'image'){
                      if(imgsize>5){
                        alert("Image size should be less than 5 MB" );
                        imgpath.value="";
                      }
                    }else
                      imgpath.value="";
                  }
                });
              });
              function getFileExtension(filename){
                var ext = /^.+\.([^.]+)$/.exec(filename);
                return ext == null ? "" : ext[1];
              }
            </script>
          <br><br>

          <hr>

          <h2>Final Project Submission Step</h2>
          <label for="image_file">Click button below to submit project.  Once submitted, the project cannot be modified.</label>
          <br>
          <button type="submit" style="width:100px;height:50px;">Submit</button>
          <br><br>
        </form>
      </div>
    </div>

    <script type="text/javascript">
        function check(){
        }
      </script>
  </body>
</html>
