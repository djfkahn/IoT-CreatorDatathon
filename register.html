<!DOCTYPE html>
<html>

  <header>
    <title>
      Datathon Registration
    </title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js">
    </script>
    <link href="./datathon.css" rel="stylesheet">
  </header>


  <body>

    <head>
      <img class="head-image" src="theme/header/IoTCreator.png">
      <h1>Datathon Registration</h1>
      <hr>
    </head>

    <main>
      <h2>1. Terms and Conditions</h2>
      <p>
        By checking the box below, you affirm your are 16 years old or older, and
        that you have read, understood, and accept the
        <a target="_blank" href="https://docs.google.com/document/d/1QDLcBS4u_xZTO-BBwOthQT72nTc-oSKTMc8_yta3Br0/edit?ts=5f7f5aac">terms and conditions</a>
        of this event.
      </p>
      <input type="checkbox" id="terms">
      <label class="longlabel" for="terms" name="terms">
        I am at least 16 years old, and I accept the terms and conditions of the datathon.
      </label>
      <br>
      <hr>

      <h2>2. Privacy</h2>
      <p>
        We collect the minimum information required to communicate with you about
        Datathon related matters. This information will be stored in the United States
        and will not be moved without your approval. Our privacy policy can be found
        <a target="_blank" href="https://docs.google.com/document/d/1q6jJPxSV-M_Zy7vLTTChUBuCQfDS62pNEkkqSjtGQUE/edit?ts=5f7f5a95#">here</a>.
      </p>
      <p>
        After completing the registration process, we will send you an email asking you to
        fill out an anonymous survey at SurveyMonkey.com. The surevey allows us to measure
        whether our outreach efforts are effectively reaching a diverse set of IoT enthusiasts.
        The answers to that survey will <strong>not</strong> be tied back to your individual Datathon registration.
      </p>
      <input type="checkbox" id="privacy" disabled="true">
      <label class="longlabel" for="privacy" name="privacy">
        I permit the IoT-Creator Datathon to store my contact information for datathon-related
        communication.
      </label>
      <br>
      <hr>

      <h2>3. Registrant's Information</h2>
      <form method="post" enctype="multipart/form-data" onsubmit="return check();" action="_top">
        <label for="first_name">First Name: </label>
        <input pattern="\s*(\S\s*){3,}" id="first_name" name="first_name" placeholder="Enter your first name" required>
        <br>
        <label for="last_name">Last Name: </label>
        <input pattern="\s*(\S\s*){3,}" id="last_name" name="last_name" placeholder="Enter your last name" required>
        <br>
        <label for="email">Enter Email: </label>
        <input type="email" id="email" name="email" placeholder="Enter your email address" required>
        <br>
        <label for="email2">Re-Enter Email: </label>
        <input type="email2" id="email2" name="email2" placeholder="Re-enter your email address" required>
        <br>
        <hr>

        <h2>4. Pay Registration Fee</h2>
        <p>
          This Datathon has a $25(US) entry fee which is submitted via PayPal. Please ensure the email
          you provide for Datathon communication matches the PayPal sender email. This registration
          fee entitles the contestant to:
        </p>
        <ul>
          <li>Unlimited project entries.</li>
          <li>Each project submitted is an opportunity to win cash prize.</li>
          <li>One year subscription to IoT-Creator.</li>
        </ul>
        <!-- This code needs to be reexamined. It has not been working
             since button was disabled by default. -->
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
          <input type="hidden" name="cmd" value="_s-xclick" />

          <input type="hidden" name="hosted_button_id" value="LXFH2GCQ4UTGJ" />

          <button type="button" id="pay" name="pay" disabled="true">
            Pay Entry Fee via PayPal
          </button>

          <img loading="lazy" alt="" border="0" width="1" height="1" data-src="https://www.paypal.com/en_US/i/scr/pixel.gif" class="lazyload" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" />
          <noscript>
            <img loading="lazy" alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
          </noscript>
        </form>
        <hr>

        <h2>5. Finalize Registration</h2>
        <label class="longlabel" for="register">
          Clicking the button below will complete the registration process. You
          will receive an confirmation email shortly after.
        </label>
        <br>
        <button type="submit" id="register" disabled="true">Register</button>
        <br><br>
      </form>

      <script type="text/javascript">
        function check() {
          var email1 = document.getElementById('email');
          var eamil2 = document.getElementById('email2');
          if (email1.value == email2.value) {
            return "true"
          } else {
            return "false"
          }
        }

        $('#terms').on('click', function() {
          $('#terms').attr('disabled', true);
          $('#privacy').attr('disabled', false);
        });
        $('#privacy').on('click', function() {
          $('#terms').attr('disabled', true);
          $('#privacy').attr('disabled', true);
          $('#pay').attr('disabled', false);
        });
        $('#pay').on('click', function() {
          $('#terms').attr('disabled', true);
          $('#privacy').attr('disabled', true);
          $('#pay').attr('disabled', true);
          $('#register').attr('disabled', false);
        });
        $('#register').on('click', function() {
          var result = check();
          if (result == "true") {
            $('#terms').attr('disabled', true);
            $('#privacy').attr('disabled', true);
            $('#register').attr('disabled', true);
            alert("Thank you for starting your registeration.  Please check your inbox for an email with a link to progress to the next step.  You may close this window.")
          } else {
            alert("Email entries do not match.  Please try again.")
          }
        });
      </script>
    </main>
  </body>

</html>